{"ast":null,"code":"import { conversationConstants, userConstants } from '../_constants';\nimport { userService } from '../_services';\nimport { history } from '../_helpers';\nimport axis from \"axis.js\";\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\nexport const userActions = {\n  login,\n  logout,\n  getAll,\n  updateUser,\n  getUserProfile,\n  profilePicLoading,\n  profilePicLoadingDone,\n  loading,\n  loadingDone,\n  getAupairs,\n  getFamilies\n};\n\nfunction login(email, password) {\n  return dispatch => {\n    dispatch(request({\n      username: email\n    }));\n    userService.login(email, password).then(user => {\n      if (!axis.isUndefined(user.status) && user.status === 'validation-error') {\n        dispatch(validationError(user));\n      } else if (!axis.isUndefined(user.status) && user.status === 'error') {\n        dispatch(failure(user));\n      } else {\n        dispatch(success(user));\n        history.push('/');\n      }\n    }, error => {\n      dispatch(failure(error));\n    });\n  };\n\n  function request(user) {\n    return {\n      type: userConstants.LOGIN_REQUEST,\n      user\n    };\n  }\n\n  function success(user) {\n    return {\n      type: userConstants.LOGIN_SUCCESS,\n      user\n    };\n  }\n\n  function validationError(error) {\n    return {\n      type: userConstants.LOGIN_VALIDATION_ERROR,\n      error\n    };\n  }\n\n  function failure(error) {\n    return {\n      type: userConstants.LOGIN_FAILURE,\n      error\n    };\n  }\n}\n\nfunction logout() {\n  return {\n    type: userConstants.LOGOUT\n  };\n}\n\nfunction getAll() {\n  return dispatch => {\n    dispatch(request());\n    userService.getAll().then(users => dispatch(success(users)), error => {\n      dispatch(failure(error));\n    });\n  };\n\n  function request() {\n    return {\n      type: userConstants.GETALL_REQUEST\n    };\n  }\n\n  function success(users) {\n    return {\n      type: userConstants.GETALL_SUCCESS,\n      users\n    };\n  }\n\n  function failure(error) {\n    return {\n      type: userConstants.GETALL_FAILURE,\n      error\n    };\n  }\n}\n\nfunction updateUser(params) {\n  return dispatch => {\n    dispatch(request());\n    userService.updateUser(params).then(response => {\n      if (!axis.isUndefined(response)) {\n        const {\n          status,\n          payload\n        } = response;\n\n        if (status === \"validation-error\") {\n          NotificationManager.error('Error', payload.c_password[0]);\n        } else if (status === 'success') {\n          NotificationManager.success('Success message', 'Password successfully updated');\n        }\n      }\n\n      dispatch(success(response));\n    }, error => {\n      dispatch(failure(error));\n    });\n  };\n\n  function request() {\n    return {\n      type: userConstants.UPDATE_REQUEST\n    };\n  }\n\n  function success(users) {\n    return {\n      type: userConstants.UPDATE_SUCCESS,\n      payload: users\n    };\n  }\n\n  function failure(error) {\n    return {\n      type: userConstants.UPDATE_FAILURE,\n      payload: error\n    };\n  }\n}\n\nfunction getUserProfile() {\n  return dispatch => {\n    userService.getUserProfile().then(response => {\n      dispatch(success(response.payload));\n    });\n  };\n\n  function success(users) {\n    return {\n      type: userConstants.GET_PROFILE,\n      payload: users\n    };\n  }\n}\n\nfunction getAupairs(page, query) {\n  return dispatch => {\n    dispatch(loading());\n    userService.getAupairs(page, query).then(response => {\n      dispatch(success(response.payload));\n      dispatch(loadingDone());\n    });\n  };\n\n  function loading() {\n    return {\n      type: userConstants.LOADING\n    };\n  }\n\n  function loadingDone() {\n    return {\n      type: userConstants.LOADING_DONE\n    };\n  }\n\n  function success(data) {\n    return {\n      type: userConstants.GET_AUPAIR_SUCCESS,\n      payload: data\n    };\n  }\n}\n\nfunction getFamilies(page, query) {\n  return dispatch => {\n    dispatch(loading());\n    userService.getFamilies(page, query).then(response => {\n      dispatch(success(response.payload));\n      dispatch(loadingDone());\n    });\n  };\n\n  function success(data) {\n    return {\n      type: userConstants.GET_FAMILY_SUCCESS,\n      payload: data\n    };\n  }\n\n  function loading() {\n    return {\n      type: userConstants.LOADING\n    };\n  }\n\n  function loadingDone() {\n    return {\n      type: userConstants.LOADING_DONE\n    };\n  }\n}\n\nfunction profilePicLoading() {\n  return {\n    type: userConstants.PROFILE_PIC_REQUEST\n  };\n}\n\nfunction profilePicLoadingDone() {\n  return {\n    type: userConstants.PROFILE_PIC_SUCCESS\n  };\n}\n\nfunction loading() {\n  return {\n    type: userConstants.LOADING\n  };\n}\n\nfunction loadingDone() {\n  return {\n    type: userConstants.LOADING_DONE\n  };\n}","map":{"version":3,"sources":["/home/atiqul/docker-project/room-booking-app/client/src/_actions/user.actions.js"],"names":["conversationConstants","userConstants","userService","history","axis","NotificationContainer","NotificationManager","userActions","login","logout","getAll","updateUser","getUserProfile","profilePicLoading","profilePicLoadingDone","loading","loadingDone","getAupairs","getFamilies","email","password","dispatch","request","username","then","user","isUndefined","status","validationError","failure","success","push","error","type","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_VALIDATION_ERROR","LOGIN_FAILURE","LOGOUT","users","GETALL_REQUEST","GETALL_SUCCESS","GETALL_FAILURE","params","response","payload","c_password","UPDATE_REQUEST","UPDATE_SUCCESS","UPDATE_FAILURE","GET_PROFILE","page","query","LOADING","LOADING_DONE","data","GET_AUPAIR_SUCCESS","GET_FAMILY_SUCCESS","PROFILE_PIC_REQUEST","PROFILE_PIC_SUCCESS"],"mappings":"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","sourcesContent":["import {conversationConstants, userConstants} from '../_constants';\nimport { userService } from '../_services';\nimport { history } from '../_helpers';\nimport axis from \"axis.js\";\nimport {NotificationContainer, NotificationManager} from 'react-notifications';\n\nexport const userActions = {\n    login,\n    logout,\n    getAll,\n    updateUser,\n    getUserProfile,\n    profilePicLoading,\n    profilePicLoadingDone,\n    loading,\n    loadingDone,\n    getAupairs,\n    getFamilies\n};\n\nfunction login(email, password) {\n    return dispatch => {\n        dispatch(request({ username: email }));\n\n        userService.login(email, password)\n            .then(\n                user => {\n                    if(!axis.isUndefined(user.status) && user.status === 'validation-error'){\n                        dispatch(validationError(user));\n                    } else if(!axis.isUndefined(user.status) && user.status === 'error'){\n                        dispatch(failure(user));\n                    } else{\n                       dispatch(success(user));\n                        history.push('/');\n                    }\n                },\n                error => {\n                    dispatch(failure(error));\n                }\n            );\n    };\n\n    function request(user) { return { type: userConstants.LOGIN_REQUEST, user }; }\n    function success(user) { return { type: userConstants.LOGIN_SUCCESS, user }; }\n    function validationError(error) { return { type: userConstants.LOGIN_VALIDATION_ERROR, error }; }\n    function failure(error) { return { type: userConstants.LOGIN_FAILURE, error }; }\n}\n\nfunction logout() {\n    return { type: userConstants.LOGOUT };\n}\n\nfunction getAll() {\n    return dispatch => {\n        dispatch(request());\n\n        userService.getAll()\n            .then(\n                users => dispatch(success(users)),\n                error => {\n                    dispatch(failure(error));\n                }\n            );\n    };\n\n    function request() { return { type: userConstants.GETALL_REQUEST }; }\n    function success(users) { return { type: userConstants.GETALL_SUCCESS, users }; }\n    function failure(error) { return { type: userConstants.GETALL_FAILURE, error }; }\n}\n\nfunction updateUser(params) {\n    return dispatch => {\n        dispatch(request());\n\n        userService.updateUser(params)\n            .then(\n                response => {\n                    if (!axis.isUndefined(response)) {\n                        const {status, payload} = response;\n                        if (status === \"validation-error\") {\n                            NotificationManager.error('Error', payload.c_password[0]);\n                        } else if (status === 'success') {\n                            NotificationManager.success('Success message', 'Password successfully updated');\n                        }\n                    }\n                    dispatch(success(response));\n                },\n                error => {\n                    dispatch(failure(error));\n                }\n            );\n    };\n\n    function request() { return { type: userConstants.UPDATE_REQUEST }; }\n    function success(users) { return { type: userConstants.UPDATE_SUCCESS,   payload: users }; }\n    function failure(error) { return { type: userConstants.UPDATE_FAILURE, payload : error }; }\n}\n\nfunction getUserProfile() {\n    return dispatch => {\n        userService.getUserProfile()\n            .then(\n                response => {\n                    dispatch(success(response.payload));\n                }\n            );\n    };\n    function success(users) { return { type: userConstants.GET_PROFILE,   payload: users }; }\n}\nfunction getAupairs(page,query){\n    return dispatch => {\n        dispatch(loading());\n        userService.getAupairs(page,query)\n            .then(\n                response => {\n                    dispatch(success(response.payload));\n                    dispatch(loadingDone());\n                }\n            );\n    };\n    function loading() { return { type: userConstants.LOADING}; }\n    function loadingDone() { return { type: userConstants.LOADING_DONE}; }\n    function success(data) { return { type: userConstants.GET_AUPAIR_SUCCESS,   payload: data }; }\n\n}\nfunction getFamilies(page,query){\n    return dispatch => {\n        dispatch(loading());\n        userService.getFamilies(page,query)\n            .then(\n                response => {\n                    dispatch(success(response.payload));\n                    dispatch(loadingDone());\n                }\n            );\n    };\n    function success(data) { return { type: userConstants.GET_FAMILY_SUCCESS,   payload: data }; }\n    function loading() { return { type: userConstants.LOADING}; }\n    function loadingDone() { return { type: userConstants.LOADING_DONE}; }\n}\nfunction profilePicLoading(){\n    return { type: userConstants.PROFILE_PIC_REQUEST };\n}\nfunction profilePicLoadingDone(){\n    return { type: userConstants.PROFILE_PIC_SUCCESS };\n}\nfunction loading(){\n    return { type: userConstants.LOADING };\n}\nfunction loadingDone(){\n    return { type: userConstants.LOADING_DONE };\n}"]},"metadata":{},"sourceType":"module"}
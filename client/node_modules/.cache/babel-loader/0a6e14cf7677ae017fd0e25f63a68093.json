{"ast":null,"code":"var _jsxFileName = \"/home/atiqul/docker-project/room-booking-app/client/src/components/Dashboard.js\";\nimport React from 'react';\nimport { connect } from \"react-redux\";\nimport { report } from \"../_actions\"; // import ReactEchartsCore from 'echarts-for-react';\n\nimport ReactEchartsCore from 'echarts-for-react/lib/core';\nimport echarts from 'echarts/lib/echarts';\nimport 'echarts/lib/component/tooltip';\nimport 'echarts/lib/component/title';\nimport 'echarts/lib/chart/line';\nimport axis from \"axis.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst mapStateToProps = state => ({\n  report: state.report\n});\n\nconst SentMessage = ({\n  count\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col-lg-3 col-xs-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"small-box bg-aqua\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inner\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: count\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Total sent message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"icon\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"ion ion-bag\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        className: \"small-box-footer\",\n        children: [\"More info \", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-arrow-circle-right\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 68\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 9\n  }, this);\n};\n\n_c = SentMessage;\n\nconst ReceiveMessage = ({\n  count\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col-lg-3 col-xs-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"small-box bg-green\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inner\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: count\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Total Receive Message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"icon\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"ion ion-stats-bars\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        className: \"small-box-footer\",\n        children: [\"More info \", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-arrow-circle-right\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 68\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n};\n\n_c2 = ReceiveMessage;\n\nconst TotalContact = ({\n  count\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col-lg-3 col-xs-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"small-box bg-yellow\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inner\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: count\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Total Contact\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"icon\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"ion ion-person-add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        className: \"small-box-footer\",\n        children: [\"More info \", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-arrow-circle-right\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 68\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n};\n\n_c3 = TotalContact;\n\nconst UnReadMessage = ({\n  count\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col-lg-3 col-xs-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"small-box bg-red\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inner\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: count\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Total unread Message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"icon\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"ion ion-pie-graph\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        className: \"small-box-footer\",\n        children: [\"More info \", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-arrow-circle-right\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 68\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n};\n\n_c4 = UnReadMessage;\n\nclass DashboardReport extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      active: null,\n      hasMore: true,\n      currentYear: this.props.report.currentYear\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      currentYear: event.target.value\n    });\n    this.props.dispatch(report.changeYear(event.target.value));\n  }\n\n  componentDidMount() {\n    this.props.dispatch(report.loadDashboard());\n  }\n\n  options(countKey, title) {\n    if (this.props.report.reportGraphData.length === 0) {\n      return {};\n    }\n\n    let reportGraphData = this.props.report.reportGraphData[0];\n    let currentYear = this.props.report.currentYear;\n\n    if (axis.isUndefined(reportGraphData[currentYear])) {\n      return {};\n    }\n\n    let allContact = {\n      'month': [],\n      'data': []\n    };\n    reportGraphData[currentYear].map(data => {\n      allContact.month.push(data.month.substring(0, 3));\n      allContact.data.push(data[countKey]);\n    });\n    return {\n      title: {\n        text: title\n      },\n      tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n          type: 'cross',\n          label: {\n            backgroundColor: '#252d47'\n          }\n        }\n      },\n      grid: {\n        left: '2%',\n        right: '2%',\n        bottom: '10%',\n        containLabel: true\n      },\n      xAxis: {\n        type: 'category',\n        boundaryGap: false,\n        nameTextStyle: {\n          color: '#ffffff'\n        },\n        data: allContact.month\n      },\n      yAxis: {\n        type: 'value',\n        axisTick: {\n          show: false\n        },\n        axisLabel: {\n          margin: 10,\n          textStyle: {\n            fontSize: 14\n          }\n        },\n        splitLine: {\n          lineStyle: {\n            color: '#f7f7f7'\n          }\n        }\n      },\n      series: [{\n        data: allContact.data,\n        type: 'line',\n        smooth: true\n      }]\n    };\n  }\n\n  render() {\n    let allSentMessage = 0;\n    let allReceiveMessage = 0;\n    let allContact = 0;\n    let allUnReadMessage = 0;\n\n    if (this.props.report.reportData.length > 0) {\n      const report_box = this.props.report.reportData[0];\n      allSentMessage = report_box.allSentMessage;\n      allContact = report_box.allContact;\n      allReceiveMessage = report_box.allReceiveMessage;\n      allUnReadMessage = report_box.allUnReadMessage;\n    }\n\n    let allYearsOptions = [];\n\n    if (this.props.report.reportGraphData.length > 0) {\n      allYearsOptions = Object.keys(this.props.report.reportGraphData[0]).map((data, key) => {\n        return /*#__PURE__*/_jsxDEV(\"option\", {\n          selected: data == this.props.report.currentYear ? \"selected\" : null,\n          value: data,\n          children: [\" \", data]\n        }, key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 24\n        }, this);\n      });\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(SentMessage, {\n          count: allSentMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ReceiveMessage, {\n          count: allReceiveMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TotalContact, {\n          count: allContact\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(UnReadMessage, {\n          count: allUnReadMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group col-md-2 pull-right\",\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"form-control\",\n            value: this.state.currentYear,\n            onChange: this.handleChange,\n            children: allYearsOptions\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(ReactEchartsCore, {\n            echarts: echarts,\n            style: {\n              width: '100%'\n            },\n            className: \"react_for_echarts\",\n            option: this.options('allContact', 'Total Contact Report')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(ReactEchartsCore, {\n            echarts: echarts,\n            style: {\n              width: '100%'\n            },\n            className: \"react_for_echarts\",\n            option: this.options('allReceiveMessage', 'All Receive Message Report')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(ReactEchartsCore, {\n            echarts: echarts,\n            style: {\n              width: '100%'\n            },\n            className: \"react_for_echarts\",\n            option: this.options(\"allSendMessage\", \"All Send Message\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(ReactEchartsCore, {\n            echarts: echarts,\n            style: {\n              width: '100%'\n            },\n            className: \"react_for_echarts\",\n            option: this.options(\"allUnReadMessage\", \"All Un Read Message Report\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst Report = connect(mapStateToProps)(DashboardReport);\nexport { Report as Dashboard };\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"SentMessage\");\n$RefreshReg$(_c2, \"ReceiveMessage\");\n$RefreshReg$(_c3, \"TotalContact\");\n$RefreshReg$(_c4, \"UnReadMessage\");","map":{"version":3,"sources":["/home/atiqul/docker-project/room-booking-app/client/src/components/Dashboard.js"],"names":["React","connect","report","ReactEchartsCore","echarts","axis","mapStateToProps","state","SentMessage","count","ReceiveMessage","TotalContact","UnReadMessage","DashboardReport","Component","constructor","props","active","hasMore","currentYear","handleChange","bind","event","setState","target","value","dispatch","changeYear","componentDidMount","loadDashboard","options","countKey","title","reportGraphData","length","isUndefined","allContact","map","data","month","push","substring","text","tooltip","trigger","axisPointer","type","label","backgroundColor","grid","left","right","bottom","containLabel","xAxis","boundaryGap","nameTextStyle","color","yAxis","axisTick","show","axisLabel","margin","textStyle","fontSize","splitLine","lineStyle","series","smooth","render","allSentMessage","allReceiveMessage","allUnReadMessage","reportData","report_box","allYearsOptions","Object","keys","key","width","Report","Dashboard"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {connect} from \"react-redux\";\nimport {report} from \"../_actions\";\n // import ReactEchartsCore from 'echarts-for-react';\nimport ReactEchartsCore from 'echarts-for-react/lib/core';\nimport echarts from 'echarts/lib/echarts';\nimport 'echarts/lib/component/tooltip';\nimport 'echarts/lib/component/title';\nimport 'echarts/lib/chart/line';\nimport axis from \"axis.js\";\n\nconst mapStateToProps = state => ({\n    report: state.report\n});\n\n\nconst SentMessage = ({count}) => {\n    return (\n        <div className=\"col-lg-3 col-xs-6\">\n            <div className=\"small-box bg-aqua\">\n                <div className=\"inner\">\n                    <h3>{count}</h3>\n\n                    <p>Total sent message</p>\n                </div>\n                <div className=\"icon\">\n                    <i className=\"ion ion-bag\"></i>\n                </div>\n                <a href=\"#\" className=\"small-box-footer\">More info <i className=\"fa fa-arrow-circle-right\"></i></a>\n            </div>\n        </div>\n    )\n};\n\nconst ReceiveMessage = ({count}) => {\n    return (\n        <div className=\"col-lg-3 col-xs-6\">\n            <div className=\"small-box bg-green\">\n                <div className=\"inner\">\n                    <h3>{count}</h3>\n\n                    <p>Total Receive Message</p>\n                </div>\n                <div className=\"icon\">\n                    <i className=\"ion ion-stats-bars\"></i>\n                </div>\n                <a href=\"#\" className=\"small-box-footer\">More info <i className=\"fa fa-arrow-circle-right\"></i></a>\n            </div>\n        </div>\n    )\n};\n\n\nconst TotalContact = ({count}) => {\n    return (\n        <div className=\"col-lg-3 col-xs-6\">\n            <div className=\"small-box bg-yellow\">\n                <div className=\"inner\">\n                    <h3>{count}</h3>\n\n                    <p>Total Contact</p>\n                </div>\n                <div className=\"icon\">\n                    <i className=\"ion ion-person-add\"></i>\n                </div>\n                <a href=\"#\" className=\"small-box-footer\">More info <i className=\"fa fa-arrow-circle-right\"></i></a>\n            </div>\n        </div>\n    )\n};\n\nconst UnReadMessage = ({count}) => {\n    return (\n        <div className=\"col-lg-3 col-xs-6\">\n            <div className=\"small-box bg-red\">\n                <div className=\"inner\">\n                    <h3>{count}</h3>\n\n                    <p>Total unread Message</p>\n                </div>\n                <div className=\"icon\">\n                    <i className=\"ion ion-pie-graph\"></i>\n                </div>\n                <a href=\"#\" className=\"small-box-footer\">More info <i className=\"fa fa-arrow-circle-right\"></i></a>\n\n            </div>\n        </div>\n    )\n};\n\nclass DashboardReport extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            active: null,\n            hasMore: true,\n            currentYear : this.props.report.currentYear\n        };\n    this.handleChange = this.handleChange.bind(this);\n    }\n\n    handleChange(event) {\n        this.setState({currentYear: event.target.value});\n        this.props.dispatch(report.changeYear( event.target.value));\n    }\n    componentDidMount() {\n        this.props.dispatch(report.loadDashboard());\n    }\n\n\n    options(countKey, title) {\n\n        if(this.props.report.reportGraphData.length === 0){\n            return { };\n        }\n\n        let reportGraphData = this.props.report.reportGraphData[0];\n        let currentYear  = this.props.report.currentYear;\n\n        if(axis.isUndefined(reportGraphData[currentYear])){\n            return {};\n        }\n\n        let allContact = {\n            'month' : [],\n            'data' : []\n        };\n\n        reportGraphData[currentYear].map((data)=>{\n            allContact.month.push(data.month.substring(0,3));\n            allContact.data.push(data[countKey]);\n        });\n\n        return {\n            title: {\n                text: title\n            },\n            tooltip : {\n                trigger: 'axis',\n                axisPointer: {\n                    type: 'cross',\n                    label: {\n                        backgroundColor: '#252d47'\n                    }\n                }\n            },\n            grid: {\n                left: '2%',\n                right: '2%',\n                bottom: '10%',\n                containLabel: true,\n            },\n            xAxis: {\n                type: 'category',\n                boundaryGap: false,\n                nameTextStyle : {\n                    color:'#ffffff'\n                },\n                data:  allContact.month,\n            },\n            yAxis: {\n                type: 'value',\n                axisTick: {\n                    show: false\n                },\n                axisLabel: {\n                    margin: 10,\n                    textStyle: {\n                        fontSize: 14\n                    }\n                },\n                splitLine: {\n                    lineStyle: {\n                        color: '#f7f7f7'\n                    }\n                }\n            },\n            series: [{\n                data:allContact.data,\n                type: 'line',\n                smooth: true\n            }]\n        }\n    }\n\n\n\n\n    render() {\n\n        let allSentMessage = 0;\n        let allReceiveMessage = 0;\n        let allContact = 0;\n        let allUnReadMessage = 0;\n\n        if(this.props.report.reportData.length > 0){\n            const report_box  = this.props.report.reportData[0];\n            allSentMessage = report_box.allSentMessage;\n            allContact = report_box.allContact;\n            allReceiveMessage = report_box.allReceiveMessage;\n            allUnReadMessage = report_box.allUnReadMessage;\n\n        }\n\n        let allYearsOptions = [];\n\n        if(this.props.report.reportGraphData.length > 0){\n            allYearsOptions = Object.keys(this.props.report.reportGraphData[0]).map((data, key)=>{\n                return <option key={key} selected={data == this.props.report.currentYear ? \"selected\" : null } value={data}> {data}</option>\n            });\n        }\n\n\n\n        return (\n            <div className=\"content\">\n                <div className=\"row\">\n                    <SentMessage count={allSentMessage}/>\n                    <ReceiveMessage count={allReceiveMessage}/>\n                    <TotalContact count={allContact}/>\n                    <UnReadMessage count={allUnReadMessage}/>\n                </div>\n                <div className=\"row\">\n                    <div className=\"form-group col-md-2 pull-right\">\n                        <select className=\"form-control\" value={this.state.currentYear} onChange={this.handleChange}>\n                            {allYearsOptions}\n                        </select>\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"col-md-6\">\n                        <ReactEchartsCore  echarts={echarts} style={{width: '100%'}}\n                                      className='react_for_echarts'\n                                      option={this.options('allContact','Total Contact Report')}/>\n                    </div>\n                    <div className=\"col-md-6\">\n                        <ReactEchartsCore  echarts={echarts} style={{width: '100%'}}\n                                      className='react_for_echarts' option={this.options('allReceiveMessage', 'All Receive Message Report')}/>\n                    </div>\n                    <div className=\"col-md-6\">\n                        <ReactEchartsCore   echarts={echarts} style={{width: '100%'}}\n                                                             className='react_for_echarts'\n                                      option={this.options(\"allSendMessage\", \"All Send Message\")}/>\n\n                    </div>\n                    <div className=\"col-md-6\">\n                        <ReactEchartsCore  echarts={echarts} style={{width: '100%'}}\n                                      className='react_for_echarts' option={this.options(\"allUnReadMessage\", \"All Un Read Message Report\")}/>\n                    </div>\n\n                </div>\n            </div>\n\n        );\n    }\n}\n\nconst Report = connect(mapStateToProps)(DashboardReport);\nexport {Report as Dashboard};"]},"metadata":{},"sourceType":"module"}